/**
 * Production Settings Styles
 *
 * DataViews-inspired table layout with extensible column architecture.
 * Used across all settings pages (Core Blocks, Editor Validation, External Plugins).
 */

// Admin page background
// Applied to all settings pages (core blocks, editor validation, external plugins)
body.toplevel_page_block-a11y-checks,
body.accessibility-validation_page_block-a11y-checks-post-page,
body[class*='accessibility-validation_page_block-a11y-checks-'] {
	background-color: #f0f0f1;

	#wpcontent {
		padding-left: 0;
	}

	// Remove default WordPress .wrap margin
	.wrap {
		margin: 0;
	}
}

// Main wrapper
.ba11y-settings-wrapper {
	max-width: 1600px;
	margin: 0 auto;
	padding: 0;
	background-color: #fff;
	min-height: 100vh;
}

// Header section (React)
.ba11y-settings-header-react {
	padding: 32px 32px 24px 32px;
	border-bottom: 1px solid #dcdcde;
	background: #fff;

	h1 {
		margin: 0 0 8px 0;
		font-size: 23px;
		font-weight: 400;
		line-height: 1.3;
		color: #1d2327;
	}

	p {
		margin: 0;
		color: #646970;
		font-size: 13px;
	}
}

// Content area
.ba11y-settings-content {
	padding: 0;

	.components-notice {
		margin: 16px 32px;
		border-radius: 2px;
	}
}

// Section header
.ba11y-settings-section-header {
	padding: 24px 32px 16px 32px;
	border-bottom: 1px solid #dcdcde;
	background: #f6f7f7;

	h2 {
		margin: 0;
		font-size: 16px;
		font-weight: 600;
		color: #1d2327;
		line-height: 1.4;
	}
}

// DataView container
.ba11y-dataview {
	background: #fff;
}

// Add spacing between multiple tables
.ba11y-dataview + .ba11y-dataview {
	margin-top: 32px;
}

.ba11y-dataview-wrapper {
	// Wrapper for potential scrolling
	overflow-x: auto;
}

// Table
.ba11y-dataview-table {
	width: 100%;
	border-collapse: separate;
	border-spacing: 0;
}

// Table header
.ba11y-dataview-thead {
	position: sticky;
	top: 0;
	z-index: 1;
	background: #fff;
}

.ba11y-dataview-row-header {
	border-bottom: 1px solid #e0e0e0;
	background: #fff;
}

// Add top border to tables that follow another table
.ba11y-dataview + .ba11y-dataview .ba11y-dataview-row-header {
	border-top: 1px solid #dcdcde;
}

.ba11y-dataview-th {
	padding: 16px;
	font-size: 11px;
	font-weight: 500;
	color: #1d2327;
	text-transform: uppercase;
	letter-spacing: 0.4px;
	user-select: none;

	&:first-child {
		padding-left: 32px;
	}

	&:last-child {
		padding-right: 32px;
	}
}

.ba11y-dataview-th-content {
	display: flex;
	align-items: center;
	gap: 4px;
}

// Table body
.ba11y-dataview-tbody {
	background: #fff;
}

// Table row
.ba11y-dataview-row {
	display: grid;
	align-items: center;
	border-bottom: 1px solid #f0f0f1;
	background: #fff;
	transition: background-color 0.1s ease;

	&:last-child {
		border-bottom: none;
	}

	&:not(.ba11y-dataview-row-header):hover {
		background: #f6f7f7;
	}
}

// Table cells
.ba11y-dataview-cell {
	padding: 12px 16px;
	font-size: 13px;
	color: #1d2327;
	line-height: 1.4;
	min-height: 56px;
	display: flex;
	align-items: center;

	&:first-child {
		padding-left: 32px;
	}

	&:last-child {
		padding-right: 32px;
	}
}

// Check description
.ba11y-check-description {
	color: #1d2327;
	line-height: 1.4;
}

// Primary cell (typically first column)
.ba11y-dataview-cell-primary {
	.ba11y-check-description {
		font-weight: 500;
	}
}

// Block badge
.ba11y-block-badge {
	display: inline-flex;
	align-items: center;
	padding: 3px 8px;
	background: #f0f0f1;
	border-radius: 2px;
	font-size: 12px;
	color: #1d2327;
	font-weight: 500;
	white-space: nowrap;
}

// Category badge
.ba11y-category-badge {
	display: inline-flex;
	align-items: center;
	padding: 3px 8px;
	background: #fff;
	border: 1px solid #dcdcde;
	border-radius: 2px;
	font-size: 11px;
	color: #50575e;
	font-weight: 500;
	white-space: nowrap;
}

// Level control
.ba11y-level-control.components-base-control {
	margin-bottom: 0;

	// Visually hide the empty label to fix contrast issues
	.components-base-control__label {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border-width: 0;
	}
}

.ba11y-dataview-cell-level {
	justify-content: flex-end;

	.components-toggle-group-control {
		width: auto;
		border: 1px solid #dcdcde;
		background: #fff;
		border-radius: 2px;

		.components-toggle-group-control-option-base {
			font-size: 12px;
			padding: 4px 12px;
			min-height: 30px;
			background: #fff;
			color: #1d2327;
			border: none;
			border-right: 1px solid #dcdcde;
			border-radius: 0;

			&:first-child {
				border-radius: 2px 0 0 2px;
			}

			&:last-child {
				border-right: none;
				border-radius: 0 2px 2px 0;
			}

			&:focus {
				box-shadow: inset 0 0 0 1px #fff, 0 0 0 1.5px #2271b1;
				z-index: 1;
				position: relative;
			}

			&:hover:not([aria-checked='true']) {
				background: #f6f7f7;
			}

			&[aria-checked='true'] {
				background: #2271b1;
				color: #fff;
				font-weight: 500;

				&:hover {
					background: #135e96;
				}
			}
		}
	}
}

// Heading levels checkboxes
.ba11y-heading-levels-checkboxes {
	display: flex;
	gap: 16px;
	justify-content: flex-end;

	.components-base-control {
		margin-bottom: 0;
	}

	.components-checkbox-control__input-container {
		display: flex;
		align-items: center;
		gap: 8px;
	}

	.components-checkbox-control__label {
		font-size: 12px;
		font-weight: 500;
		color: #1d2327;
		text-transform: uppercase;
	}
}

// No results state
.ba11y-dataview-no-results {
	padding: 48px 32px;
	text-align: center;
	color: #646970;
	font-size: 14px;
}

// Actions footer
.ba11y-settings-actions {
	display: flex;
	align-items: center;
	gap: 16px;
	padding: 24px 32px;
	border-top: 1px solid #dcdcde;
	background: #f6f7f7;

	.components-button.is-primary {
		min-height: 36px;
		padding: 0 24px;

		&:not(:disabled) {
			background-color: #2271b1;
			border-color: #2271b1;

			&:hover {
				background-color: #135e96;
				border-color: #135e96;
			}
		}
	}

	.ba11y-unsaved-notice {
		font-size: 13px;
		color: #d63638;
		font-style: italic;
	}
}

// Responsive adjustments
@media (max-width: 960px) {
	.ba11y-settings-header-react {
		padding: 24px 16px 16px 16px;
	}

	.ba11y-settings-content .components-notice {
		margin: 16px 16px;
	}

	.ba11y-dataview-th {
		&:first-child {
			padding-left: 16px;
		}

		&:last-child {
			padding-right: 16px;
		}
	}

	.ba11y-dataview-cell {
		&:first-child {
			padding-left: 16px;
		}

		&:last-child {
			padding-right: 16px;
		}
	}

	.ba11y-settings-actions {
		padding: 16px;
	}
}

// Mobile responsive (stack columns)
@media (max-width: 782px) {
	.ba11y-dataview-wrapper {
		overflow-x: visible;
	}

	.ba11y-dataview-thead {
		display: none;
	}

	.ba11y-dataview-row {
		display: flex;
		flex-direction: column;
		gap: 12px;
		padding: 16px;
		border: 1px solid #dcdcde;
		border-radius: 2px;
		margin: 0 16px 8px 16px;

		&:hover {
			background: #fff;
			border-color: #757575;
		}
	}

	.ba11y-dataview-cell {
		padding: 0;
		min-height: auto;

		&:first-child,
		&:last-child {
			padding: 0;
		}
	}

	// Mobile labels
	.ba11y-dataview-cell-block,
	.ba11y-dataview-cell-category {
		&::before {
			content: attr(data-label);
			display: inline-block;
			font-weight: 600;
			margin-right: 8px;
			font-size: 11px;
			color: #646970;
			text-transform: uppercase;
		}
	}

	.ba11y-dataview-cell-level {
		justify-content: flex-start;

		.components-toggle-group-control {
			width: 100%;
		}
	}

	.ba11y-heading-levels-checkboxes {
		justify-content: flex-start;
	}

	.ba11y-settings-actions {
		flex-direction: column;
		align-items: flex-start;
		gap: 12px;

		.components-button {
			width: 100%;
		}
	}
}
